{"ast":null,"code":"import _objectSpread from \"/Users/chelseagilmore/Desktop/frontend/chef-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/chelseagilmore/Desktop/frontend/chef-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/chelseagilmore/Desktop/frontend/chef-portfolio/src/components/Register.js\";\nimport React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nconst initialState = {\n  username: \"\",\n  password: \"\",\n  name: \"\",\n  location: \"\",\n  contact_info: \"\",\n  isFetching: false\n};\n\nconst Register = props => {\n  const _useState = useState(initialState),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const handleChange = e => {\n    setData(_objectSpread({}, data, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setData(_objectSpread({}, data, {\n      isFetching: true\n    }));\n    axiosWithAuth().post(\"/register\").then(res => {\n      localStorage.getItem(\"token\", res.data.payload);\n      props.history.push(\"/chef-portfolio\");\n    }).catch(err => console.log(\"sorry, an error has occured while registering your information\", err));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Register\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Username\",\n    value: data.username,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: data.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Register\"), data.isFetching && \"...Registering Profile\", \" \")));\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/chelseagilmore/Desktop/frontend/chef-portfolio/src/components/Register.js"],"names":["React","useState","axiosWithAuth","initialState","username","password","name","location","contact_info","isFetching","Register","props","data","setData","handleChange","e","target","value","handleSubmit","preventDefault","post","then","res","localStorage","getItem","payload","history","push","catch","err","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,aAAT,QAA8B,wBAA9B;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,EADS;AAEnBC,EAAAA,QAAQ,EAAE,EAFS;AAGnBC,EAAAA,IAAI,EAAE,EAHa;AAInBC,EAAAA,QAAQ,EAAE,EAJS;AAKnBC,EAAAA,YAAY,EAAE,EALK;AAMnBC,EAAAA,UAAU,EAAE;AANO,CAArB;;AASA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AAAA,oBACAV,QAAQ,CAACE,YAAD,CADR;AAAA;AAAA,QACjBS,IADiB;AAAA,QACXC,OADW;;AAGxB,QAAMC,YAAY,GAAGC,CAAC,IAAI;AACxBF,IAAAA,OAAO,mBAAMD,IAAN;AAAY,OAACG,CAAC,CAACC,MAAF,CAASV,IAAV,GAAiBS,CAAC,CAACC,MAAF,CAASC;AAAtC,OAAP;AACD,GAFD;;AAIA,QAAMC,YAAY,GAAGH,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACI,cAAF;AACAN,IAAAA,OAAO,mBAAMD,IAAN;AAAYH,MAAAA,UAAU,EAAE;AAAxB,OAAP;AACAP,IAAAA,aAAa,GACVkB,IADH,CACQ,WADR,EAEGC,IAFH,CAEQC,GAAG,IAAI;AACXC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACV,IAAJ,CAASa,OAAvC;AACAd,MAAAA,KAAK,CAACe,OAAN,CAAcC,IAAd,CAAmB,iBAAnB;AACD,KALH,EAMGC,KANH,CAMSC,GAAG,IACRC,OAAO,CAACC,GAAR,CAAY,gEAAZ,EAA8EF,GAA9E,CAPJ;AASD,GAZD;;AAcA,SACE,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEX,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,WAAW,EAAC,UAHd;AAIE,IAAA,KAAK,EAAEN,IAAI,CAACR,QAJd;AAKE,IAAA,QAAQ,EAAEU,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,WAAW,EAAC,UAHd;AAIE,IAAA,KAAK,EAAEF,IAAI,CAACP,QAJd;AAKE,IAAA,QAAQ,EAAES,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBF,EAiBGF,IAAI,CAACH,UAAL,IAAmB,wBAjBtB,EAiBgD,GAjBhD,CADF,CAFF,CADF;AA2BD,CAhDD;;AAkDA,eAAeC,QAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\n\nconst initialState = {\n  username: \"\",\n  password: \"\",\n  name: \"\",\n  location: \"\",\n  contact_info: \"\",\n  isFetching: false\n};\n\nconst Register = props => {\n  const [data, setData] = useState(initialState);\n\n  const handleChange = e => {\n    setData({ ...data, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setData({ ...data, isFetching: true });\n    axiosWithAuth()\n      .post(\"/register\")\n      .then(res => {\n        localStorage.getItem(\"token\", res.data.payload);\n        props.history.push(\"/chef-portfolio\");\n      })\n      .catch(err =>\n        console.log(\"sorry, an error has occured while registering your information\", err)\n      );\n  };\n\n  return (\n    <>\n      <h1>Register</h1>\n      <div>\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"Username\"\n            value={data.username}\n            onChange={handleChange}\n          />\n          <input\n            type=\"text\"\n            name=\"password\"\n            placeholder=\"Password\"\n            value={data.password}\n            onChange={handleChange}\n          />\n          {/* make an three inputs in this form for name, location, and contact_info */}\n          <button>Register</button>\n          {data.isFetching && \"...Registering Profile\"}{\" \"}\n          {/* optional loading state */}\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}