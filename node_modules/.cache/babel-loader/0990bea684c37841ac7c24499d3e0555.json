{"ast":null,"code":"import _objectSpread from \"/Users/chelseagilmore/Desktop/frontend/chef-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/chelseagilmore/Desktop/frontend/chef-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/chelseagilmore/Desktop/frontend/chef-portfolio/src/components/ChefPortfolio.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\"; // import AddRecipe from \"./AddRecipe\";\n\nconst initialRecipe = {\n  id: \"\",\n  name: \"\",\n  image_url: \"\",\n  title: \"\",\n  meal_type: \"\",\n  ingredients: \"\",\n  instructions: \"\",\n  instructions: \"\",\n  chef_id: \"\"\n};\n\nconst ChefPortfolio = props => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        posts = _useState2[0],\n        setPosts = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        edit = _useState4[0],\n        setEdit = _useState4[1];\n\n  const _useState5 = useState(initialRecipe),\n        _useState6 = _slicedToArray(_useState5, 2),\n        recipeToEdit = _useState6[0],\n        setRecipeToEdit = _useState6[1];\n\n  useEffect(() => {\n    axiosWithAuth().get(`/${props.chefId || localStorage.getItem(\"id\")}/posts`).then(res => {\n      setPosts(res.data);\n      console.log(posts);\n    }).catch(err => console.log(\"sorry, an error has occurred while fetching chef portfolio page\", err));\n  }, []);\n\n  const editRecipe = recipe => {\n    setEdit(true);\n    setRecipeToEdit(recipe);\n  };\n\n  const saveEdit = e => {\n    // e.preventDefault()\n    axiosWithAuth().put(`/posts/${recipeToEdit.id}`, recipeToEdit).then(res => {\n      setPosts();\n    }).catch(err => console.log(\"sorry, could not edit recipe\", err));\n  };\n\n  const deleteRecipe = recipe => {\n    axiosWithAuth().delete(`/posts/${recipe.id}`, recipe).then(res => {\n      console.log(res);\n      setPosts();\n    }).catch(err => console.log(\"sorry, could not delete recipe\", err));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Welcome to your Chef Portfolio\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, posts.map(recipe => React.createElement(\"div\", {\n    key: recipe.id,\n    className: \"recipes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, recipe.name), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, recipe.image_url), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, recipe.title), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, recipe.meal_type), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, recipe.ingredients), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, recipe.instructions), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, recipe.chef_id), React.createElement(\"button\", {\n    onClick: () => editRecipe(recipe),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Edit\"), React.createElement(\"button\", {\n    onClick: () => deleteRecipe(recipe),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Delete\"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }))), edit && React.createElement(\"form\", {\n    onSubmit: saveEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Edit Recipe\"), React.createElement(\"input\", {\n    onChange: e => setRecipeToEdit(_objectSpread({}, recipeToEdit, {\n      name: e.target.value\n    })),\n    value: recipeToEdit.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    onChange: e => setRecipeToEdit(_objectSpread({}, recipeToEdit, {\n      image_url: e.target.value\n    })),\n    value: recipeToEdit.image_url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    onChange: e => setRecipeToEdit(_objectSpread({}, recipeToEdit, {\n      title: e.target.value\n    })),\n    value: recipeToEdit.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    onChange: e => setRecipeToEdit(_objectSpread({}, recipeToEdit, {\n      meal_type: e.target.value\n    })),\n    value: recipeToEdit.meal_type,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    onChange: e => setRecipeToEdit(_objectSpread({}, recipeToEdit, {\n      ingredients: e.target.value\n    })),\n    value: recipeToEdit.ingredients,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    onChange: e => setRecipeToEdit(_objectSpread({}, recipeToEdit, {\n      instructions: e.target.value\n    })),\n    value: recipeToEdit.instructions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \"save\"), React.createElement(\"button\", {\n    onClick: () => setEdit(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"cancel\"))));\n};\n\nexport default ChefPortfolio;","map":{"version":3,"sources":["/Users/chelseagilmore/Desktop/frontend/chef-portfolio/src/components/ChefPortfolio.js"],"names":["React","useState","useEffect","axiosWithAuth","initialRecipe","id","name","image_url","title","meal_type","ingredients","instructions","chef_id","ChefPortfolio","props","posts","setPosts","edit","setEdit","recipeToEdit","setRecipeToEdit","get","chefId","localStorage","getItem","then","res","data","console","log","catch","err","editRecipe","recipe","saveEdit","e","put","deleteRecipe","delete","map","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,aAAT,QAA8B,wBAA9B,C,CACA;;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,EAAE,EAAE,EADgB;AAEpBC,EAAAA,IAAI,EAAE,EAFc;AAGpBC,EAAAA,SAAS,EAAE,EAHS;AAIpBC,EAAAA,KAAK,EAAE,EAJa;AAKpBC,EAAAA,SAAS,EAAE,EALS;AAMpBC,EAAAA,WAAW,EAAE,EANO;AAOpBC,EAAAA,YAAY,EAAE,EAPM;AAQpBA,EAAAA,YAAY,EAAE,EARM;AASpBC,EAAAA,OAAO,EAAE;AATW,CAAtB;;AAYA,MAAMC,aAAa,GAAGC,KAAK,IAAI;AAAA,oBACHb,QAAQ,CAAC,EAAD,CADL;AAAA;AAAA,QACtBc,KADsB;AAAA,QACfC,QADe;;AAAA,qBAELf,QAAQ,CAAC,KAAD,CAFH;AAAA;AAAA,QAEtBgB,IAFsB;AAAA,QAEhBC,OAFgB;;AAAA,qBAGWjB,QAAQ,CAACG,aAAD,CAHnB;AAAA;AAAA,QAGtBe,YAHsB;AAAA,QAGRC,eAHQ;;AAK7BlB,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,aAAa,GACVkB,GADH,CACQ,IAAGP,KAAK,CAACQ,MAAN,IAAgBC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2B,QADtD,EAEGC,IAFH,CAEQC,GAAG,IAAI;AACXV,MAAAA,QAAQ,CAACU,GAAG,CAACC,IAAL,CAAR;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ;AACD,KALH,EAMGe,KANH,CAMSC,GAAG,IACRH,OAAO,CAACC,GAAR,CACE,iEADF,EAEEE,GAFF,CAPJ;AAYD,GAbQ,EAaN,EAbM,CAAT;;AAeA,QAAMC,UAAU,GAAGC,MAAM,IAAI;AAC3Bf,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAE,IAAAA,eAAe,CAACa,MAAD,CAAf;AACD,GAHD;;AAKA,QAAMC,QAAQ,GAAGC,CAAC,IAAI;AACpB;AACAhC,IAAAA,aAAa,GACViC,GADH,CACQ,UAASjB,YAAY,CAACd,EAAG,EADjC,EACoCc,YADpC,EAEGM,IAFH,CAEQC,GAAG,IAAI;AACXV,MAAAA,QAAQ;AACT,KAJH,EAKGc,KALH,CAKSC,GAAG,IAAIH,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CE,GAA5C,CALhB;AAMD,GARD;;AAUA,QAAMM,YAAY,GAAGJ,MAAM,IAAI;AAC7B9B,IAAAA,aAAa,GACVmC,MADH,CACW,UAASL,MAAM,CAAC5B,EAAG,EAD9B,EACiC4B,MADjC,EAEGR,IAFH,CAEQC,GAAG,IAAI;AACXE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAV,MAAAA,QAAQ;AACT,KALH,EAMGc,KANH,CAMSC,GAAG,IAAIH,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CE,GAA9C,CANhB;AAOD,GARD;;AAUA,SACE,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhB,KAAK,CAACwB,GAAN,CAAUN,MAAM,IACf;AAAK,IAAA,GAAG,EAAEA,MAAM,CAAC5B,EAAjB;AAAqB,IAAA,SAAS,EAAC,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI4B,MAAM,CAAC3B,IAAX,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI2B,MAAM,CAAC1B,SAAX,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI0B,MAAM,CAACzB,KAAX,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIyB,MAAM,CAACxB,SAAX,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIwB,MAAM,CAACvB,WAAX,CALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIuB,MAAM,CAACtB,YAAX,CANF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIsB,MAAM,CAACrB,OAAX,CAPF,EAQE;AAAQ,IAAA,OAAO,EAAE,MAAMoB,UAAU,CAACC,MAAD,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,EASE;AAAQ,IAAA,OAAO,EAAE,MAAMI,YAAY,CAACJ,MAAD,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADD,CADH,EAgBGhB,IAAI,IACH;AAAM,IAAA,QAAQ,EAAEiB,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AACE,IAAA,QAAQ,EAAEC,CAAC,IACTf,eAAe,mBAAMD,YAAN;AAAoBb,MAAAA,IAAI,EAAE6B,CAAC,CAACK,MAAF,CAASC;AAAnC,OAFnB;AAIE,IAAA,KAAK,EAAEtB,YAAY,CAACb,IAJtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EASE;AACE,IAAA,QAAQ,EAAE6B,CAAC,IACTf,eAAe,mBAAMD,YAAN;AAAoBZ,MAAAA,SAAS,EAAE4B,CAAC,CAACK,MAAF,CAASC;AAAxC,OAFnB;AAIE,IAAA,KAAK,EAAEtB,YAAY,CAACZ,SAJtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAgBE;AACE,IAAA,QAAQ,EAAE4B,CAAC,IACTf,eAAe,mBAAMD,YAAN;AAAoBX,MAAAA,KAAK,EAAE2B,CAAC,CAACK,MAAF,CAASC;AAApC,OAFnB;AAIE,IAAA,KAAK,EAAEtB,YAAY,CAACX,KAJtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,EAuBE;AACE,IAAA,QAAQ,EAAE2B,CAAC,IACTf,eAAe,mBAAMD,YAAN;AAAoBV,MAAAA,SAAS,EAAE0B,CAAC,CAACK,MAAF,CAASC;AAAxC,OAFnB;AAIE,IAAA,KAAK,EAAEtB,YAAY,CAACV,SAJtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBF,EA8BE;AACE,IAAA,QAAQ,EAAE0B,CAAC,IACTf,eAAe,mBACVD,YADU;AAEbT,MAAAA,WAAW,EAAEyB,CAAC,CAACK,MAAF,CAASC;AAFT,OAFnB;AAOE,IAAA,KAAK,EAAEtB,YAAY,CAACT,WAPtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9BF,EAwCE;AACE,IAAA,QAAQ,EAAEyB,CAAC,IACTf,eAAe,mBACVD,YADU;AAEbR,MAAAA,YAAY,EAAEwB,CAAC,CAACK,MAAF,CAASC;AAFV,OAFnB;AAOE,IAAA,KAAK,EAAEtB,YAAY,CAACR,YAPtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxCF,EAiDE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAjDF,EAkDE;AAAQ,IAAA,OAAO,EAAE,MAAMO,OAAO,CAAC,KAAD,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlDF,CAjBJ,CAHF,CADF;AA6ED,CA1HD;;AA4HA,eAAeL,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\n// import AddRecipe from \"./AddRecipe\";\n\nconst initialRecipe = {\n  id: \"\",\n  name: \"\",\n  image_url: \"\",\n  title: \"\",\n  meal_type: \"\",\n  ingredients: \"\",\n  instructions: \"\",\n  instructions: \"\",\n  chef_id: \"\"\n};\n\nconst ChefPortfolio = props => {\n  const [posts, setPosts] = useState([]);\n  const [edit, setEdit] = useState(false);\n  const [recipeToEdit, setRecipeToEdit] = useState(initialRecipe);\n\n  useEffect(() => {\n    axiosWithAuth()\n      .get(`/${props.chefId || localStorage.getItem(\"id\")}/posts`)\n      .then(res => {\n        setPosts(res.data);\n        console.log(posts);\n      })\n      .catch(err =>\n        console.log(\n          \"sorry, an error has occurred while fetching chef portfolio page\",\n          err\n        )\n      );\n  }, []);\n\n  const editRecipe = recipe => {\n    setEdit(true);\n    setRecipeToEdit(recipe);\n  };\n\n  const saveEdit = e => {\n    // e.preventDefault()\n    axiosWithAuth()\n      .put(`/posts/${recipeToEdit.id}`, recipeToEdit)\n      .then(res => {\n        setPosts();\n      })\n      .catch(err => console.log(\"sorry, could not edit recipe\", err));\n  };\n\n  const deleteRecipe = recipe => {\n    axiosWithAuth()\n      .delete(`/posts/${recipe.id}`, recipe)\n      .then(res => {\n        console.log(res);\n        setPosts();\n      })\n      .catch(err => console.log(\"sorry, could not delete recipe\", err));\n  };\n\n  return (\n    <>\n      <h1>Welcome to your Chef Portfolio</h1>\n      {/* <AddRecipe/> */}\n      <div>\n        {posts.map(recipe => (\n          <div key={recipe.id} className=\"recipes\">\n            <p>{recipe.name}</p>\n            <p>{recipe.image_url}</p>\n            <p>{recipe.title}</p>\n            <p>{recipe.meal_type}</p>\n            <p>{recipe.ingredients}</p>\n            <p>{recipe.instructions}</p>\n            <p>{recipe.chef_id}</p>\n            <button onClick={() => editRecipe(recipe)}>Edit</button>\n            <button onClick={() => deleteRecipe(recipe)}>Delete</button>\n            <hr />\n          </div>\n        ))}\n\n        {edit && (\n          <form onSubmit={saveEdit}>\n            <h3>Edit Recipe</h3>\n            <input\n              onChange={e =>\n                setRecipeToEdit({ ...recipeToEdit, name: e.target.value })\n              }\n              value={recipeToEdit.name}\n            />\n\n            <input\n              onChange={e =>\n                setRecipeToEdit({ ...recipeToEdit, image_url: e.target.value })\n              }\n              value={recipeToEdit.image_url}\n            />\n\n            <input\n              onChange={e =>\n                setRecipeToEdit({ ...recipeToEdit, title: e.target.value })\n              }\n              value={recipeToEdit.title}\n            />\n\n            <input\n              onChange={e =>\n                setRecipeToEdit({ ...recipeToEdit, meal_type: e.target.value })\n              }\n              value={recipeToEdit.meal_type}\n            />\n\n            <input\n              onChange={e =>\n                setRecipeToEdit({\n                  ...recipeToEdit,\n                  ingredients: e.target.value\n                })\n              }\n              value={recipeToEdit.ingredients}\n            />\n\n            <input\n              onChange={e =>\n                setRecipeToEdit({\n                  ...recipeToEdit,\n                  instructions: e.target.value\n                })\n              }\n              value={recipeToEdit.instructions}\n            />\n            <button type=\"submit\">save</button>\n            <button onClick={() => setEdit(false)}>cancel</button>\n          </form>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default ChefPortfolio;\n"]},"metadata":{},"sourceType":"module"}