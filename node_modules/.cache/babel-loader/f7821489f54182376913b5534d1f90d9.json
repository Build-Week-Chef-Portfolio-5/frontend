{"ast":null,"code":"import _objectSpread from \"/Users/chelseagilmore/Desktop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/chelseagilmore/Desktop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/chelseagilmore/Desktop/frontend/src/components/Login.js\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Sidebar from \"../img/chef.jpg\";\nimport \"./Login.css\";\nconst initialState = {\n  username: \"\",\n  password: \"\",\n  isFetching: false\n};\n\nconst Login = props => {\n  const _useState = useState(initialState),\n        _useState2 = _slicedToArray(_useState, 2),\n        inputValues = _useState2[0],\n        setInputValues = _useState2[1];\n\n  const handleChange = e => {\n    setInputValues(_objectSpread({}, inputValues, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    delete inputValues.isFetching;\n    axios.post(\"https://chefposts.herokuapp.com/api/chefs/login\", inputValues).then(res => {\n      console.log(res);\n      localStorage.setItem(\"token\", res.data.token);\n      props.setChefId(res.data.id);\n      localStorage.setItem(\"id\", res.data.id);\n      props.history.push(\"/chef-portfolio\"); // this is the name of the page that it will \"push\" to after a user logs in with correct credentials\n    }).catch(err => console.log(\"sorry, an error has occured with logging you in\", err));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: Sidebar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Login to continue\"), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Username\",\n    value: inputValues.username,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: inputValues.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Login\"), inputValues.isFetching && \"...Logging You In\", \" \"), React.createElement(\"div\", {\n    className: \"link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Don't have an account?\", React.createElement(Link, {\n    to: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Register here.\")))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/chelseagilmore/Desktop/frontend/src/components/Login.js"],"names":["React","useState","Link","axios","Sidebar","initialState","username","password","isFetching","Login","props","inputValues","setInputValues","handleChange","e","target","name","value","handleSubmit","preventDefault","post","then","res","console","log","localStorage","setItem","data","token","setChefId","id","history","push","catch","err"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Sidebar from \"../img/chef.jpg\";\nimport \"./Login.css\";\n\nconst initialState = {\n  username: \"\",\n  password: \"\",\n  isFetching: false\n};\n\nconst Login = props => {\n  const [inputValues, setInputValues] = useState(initialState);\n\n  const handleChange = e => {\n    setInputValues({ ...inputValues, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    delete inputValues.isFetching;\n    axios\n      .post(\"https://chefposts.herokuapp.com/api/chefs/login\", inputValues)\n      .then(res => {\n        console.log(res);\n        localStorage.setItem(\"token\", res.data.token);\n        props.setChefId(res.data.id);\n        localStorage.setItem(\"id\", res.data.id);\n        props.history.push(\"/chef-portfolio\"); // this is the name of the page that it will \"push\" to after a user logs in with correct credentials\n      })\n      .catch(err =>\n        console.log(\"sorry, an error has occured with logging you in\", err)\n      );\n  };\n\n  return (\n    <div>\n      <div className=\"Login\">\n        <img src={Sidebar} />\n        <div className=\"box\">\n          <h1>Login to continue</h1>\n          <form onSubmit={handleSubmit}>\n            <input\n              type=\"text\"\n              name=\"username\"\n              placeholder=\"Username\"\n              value={inputValues.username}\n              onChange={handleChange}\n            />\n            <input\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              value={inputValues.password}\n              onChange={handleChange}\n            />\n            <button type=\"submit\">Login</button>\n            {inputValues.isFetching && \"...Logging You In\"}{\" \"}\n            {/* optional loading state */}\n          </form>\n\n          <div className=\"link\">\n            Don't have an account?\n            <Link to=\"/register\">Register here.</Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}